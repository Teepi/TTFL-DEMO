<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>@ViewData["Title"] - Banana TTFL</title>
    <meta name="title" content="@ViewData["Title"] - Banana TTFL">
    <meta name="description" content="Banana TTFL league website">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://banana-ttfl.com/">
    <meta property="og:title" content="Home - Banana TTFL">
    <meta property="og:description" content="Banana TTFL league website">
    <meta property="og:image" content="../Resources/Icons/BananaLogo.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="../Resources/Icons/BananaLogo.jpg">
    <meta property="twitter:url" content="https://banana-ttfl.com/">
    <meta property="twitter:title" content="@ViewData["Title"] - Banana TTFL">
    <meta property="twitter:description" content="Banana TTFL league website">
    <meta property="twitter:image" content="../Resources/Icons/BananaLogo.jpg">

    <meta name="color-scheme" content="dark">

    @*<link id="css-light" rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css" />*@
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/devextremeCustom.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/TTFL.WEB.APP.styles.css" asp-append-version="true" />
    <link rel="icon" href="../favicon.ico" />
    <link rel="manifest" href="~/manifest.json" />
    <link rel="apple-touch-startup-image" href="../Resources/Icons/BananaLogo.jpg">
    <meta name="apple-mobile-web-app-capable" content="yes">

    @*Devextreme css*@
    <link href="~/css/devextreme/dx.dark.css" rel="stylesheet" />

    @*Bootstrap dark*@
    <link id="css-dark" href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-night.min.css" rel="stylesheet" />

    @*Bootstrap js*@
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    @*Devexteme js*@
    <script src="~/js/devextreme/dx.all.js"></script>
    <script src="~/js/devextreme/aspnet/dx.aspnet.mvc.js"></script>
    <script src="~/js/devextreme/aspnet/dx.aspnet.data.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener("load", () => {
                navigator.serviceWorker.register("/ServiceWorker.js");
            });
        }
    </script>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-dark bg-dark border-bottom box-shadow mb-3">
            <div class="container">
                <a class="navbar-brand" asp-area="" asp-page="/Index">
                    <img src="../Resources/Icons/BananaLogo.jpg" class="rounded" width="50" />
                    <span>Banana TTFL</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-white" asp-area="" asp-page="/standing/general">General standing</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" asp-area="" asp-page="/pick/lastPick">Last pick</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Standing
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li class="nav-item">
                                    <a class="dropdown-item text-white" asp-area="" asp-page="/standing/bestPick">Best pick standing</a>
                                </li>
                                <li class="nav-item">
                                    <a class="dropdown-item text-white" asp-area="" asp-page="/standing/hellPick">Hell pick standing</a>
                                </li>
                                <li class="nav-item">
                                    <a class="dropdown-item text-white" asp-area="" asp-page="/standing/week">Week standing</a>
                                </li>
                                <li class="nav-item">
                                    <a class="dropdown-item text-white" asp-area="" asp-page="/standing/month">Month standing</a>
                                </li>
                                <li class="nav-item">
                                    <a class="dropdown-item text-white" asp-area="" asp-page="/standing/nopick">No-pick standing</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" asp-area="" asp-page="/pick/history">Pick History</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" asp-area="" asp-page="/calendar/calendar">NBA Calendar</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
    <footer class="pt-4 pt-md-5 border-top bg-secondary text-white font-weight-bold">
        <div class="container">
            <div class="row">
                <div class="col-md">
                    <h5>Links</h5>
                    <ul class="list-unstyled">
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" target="_blank" href="https://twitter.com/Banana_TTFL">Twitter Banana TTFL</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" target="_blank" href="https://fantasy.trashtalk.co/">Trashtalk fantasy league</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" target="_blank" href="https://twitter.com/TrashTalk_fr">Twitter Trashtalk</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" target="_blank" href="https://twitter.com/TTFLab">Twitter Trashtalk fantasy lab</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" target="_blank" href="https://trashtalk.co/">Trashtalk website</a>
                        </li>
                    </ul>
                </div>
                <div class="col-md">
                    <h5>Pages</h5>
                    <ul class="list-unstyled">
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" asp-area="" asp-page="/standing/general">General standing</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" asp-area="" asp-page="/pick/lastPick">Last pick</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" asp-area="" asp-page="/standing/bestPick">Best pick standing</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" asp-area="" asp-page="/standing/hellPick">Hell pick standing</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" asp-area="" asp-page="/standing/week">Week standing</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" asp-area="" asp-page="/standing/month">Month standing</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" asp-area="" asp-page="/standing/nopick">No-pick standing</a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-white" asp-area="" asp-page="/pick/history">Pick History</a>
                        </li>
                    </ul>
                </div>
                <div class="col-md">
                    <h5>Change season / period</h5>
                    <div class="input-group mb-3">
                        <div>
                            @{

                                Context.Request.Cookies.TryGetValue("selectedSeason", out string cookieSeason);
                                List<KeyValuePair<string, string>> seasons = new List<KeyValuePair<string, string>>
                            {
                            new KeyValuePair<string, string>("TTFL_SR_2020_2021","2020-2021-SR"),
                            new KeyValuePair<string, string>("TTFL_PO_2020_2021","2020-2021-PO"),
                            new KeyValuePair<string, string>("TTFL_SR_2021_2022","2021-2022-SR"),
                            new KeyValuePair<string, string>("TTFL_PO_2021_2022","2021-2022-PO"),
                            new KeyValuePair<string, string>("TTFL_SR_2022_2023","2022-2023-SR")
                            };

                                <select class="form-select" aria-label="Select a season" id="selectSeason" name="seasonId">
                                    @foreach (var season in seasons)
                                    {
                                        if (!string.IsNullOrEmpty(cookieSeason) && season.Key == cookieSeason)
                                        {
                                            <option selected value="@season.Key">@season.Value</option>
                                        }
                                        else if (string.IsNullOrEmpty(cookieSeason))
                                        {
                                            <option selected value="@season.Key">@season.Value</option>
                                        }
                                        else
                                        {
                                            <option value="@season.Key">@season.Value</option>
                                        }
                                    }
                                </select>
                            }
                        </div>
                        <div class="input-group-append">
                            <button id="submit" type="submit" class="btn btn-primary">Validate</button>
                        </div>
                    </div>
                    <script>
                        $(function () {
                            $('#submit').on('click', function (evt) {
                                var season = $("#selectSeason").val();
                                document.cookie = 'selectedSeason=;expires=Thu, 18 Dec 1970 12:00:00 UTC;path=/';
                                document.cookie = "selectedSeason=" + season + ";expires=Thu, 18 Dec 2070 12:00:00 UTC';path=/";
                                window.location.href = '';
                            });
                        });
                    </script>
                    <div class="col-md mb-3">
                        <h5>Creator</h5>
                        <img src="../Resources/Icons/BananaLogo.jpg" class="rounded mb-2" width="50" />
                        <small class="nav-item">
                            <a class="text-decoration-none text-white" target="_blank" href="https://twitter.com/Teepi__">
                                <b>©Teepi</b>
                            </a>
                        </small>
                        <p class="nav-item">
                            <a class="text-decoration-none text-white" href="https://www.buymeacoffee.com/BananaTTFL">Buy me a coffee</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    @await RenderSectionAsync("Scripts", required: false)
    @*<script Permissions-Policy: geolocation=(), microphone=(), camera=(), payment=(self) data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="BananaTTFL" data-description="Support me on Buy me a coffee!" data-message="" data-color="#FFDD00" data-position="Right" data-x_margin="18" data-y_margin="18"></script>*@
</body>
</html>